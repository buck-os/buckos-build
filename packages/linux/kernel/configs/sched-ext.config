#
# BuckOS sched_ext + BPF Configuration
# Required for sched_ext schedulers and BPF CO-RE programs.
# Includes CONFIG_DEBUG_INFO_BTF=y for vmlinux.h generation.
#

# BPF subsystem
CONFIG_BPF=y
CONFIG_BPF_SYSCALL=y
CONFIG_BPF_JIT=y
CONFIG_BPF_JIT_ALWAYS_ON=y
CONFIG_BPF_LSM=y

# sched_ext extensible scheduler class
CONFIG_SCHED_CLASS_EXT=y

# BTF (BPF Type Format) â€” required for CO-RE and vmlinux.h
CONFIG_DEBUG_INFO=y
CONFIG_DEBUG_INFO_DWARF5=y
CONFIG_DEBUG_INFO_BTF=y
CONFIG_DEBUG_INFO_BTF_MODULES=y
CONFIG_PAHOLE_HAS_SPLIT_BTF=y

# BPF token for unprivileged use
CONFIG_BPF_JIT_DEFAULT_ON=y
