#
# BuckOS Kernel Debug Configuration
# Comprehensive debugging options for development kernels.
#

# Core debug info
CONFIG_DEBUG_INFO=y
CONFIG_DEBUG_INFO_DWARF5=y
CONFIG_DEBUG_FS=y

# Address sanitizer
CONFIG_KASAN=y
CONFIG_KASAN_GENERIC=y

# Undefined behavior sanitizer
CONFIG_UBSAN=y
CONFIG_UBSAN_BOUNDS=y

# Lock debugging
CONFIG_LOCKDEP=y
CONFIG_PROVE_LOCKING=y
CONFIG_DEBUG_LOCK_ALLOC=y
CONFIG_DEBUG_MUTEXES=y
CONFIG_DEBUG_SPINLOCK=y
CONFIG_DEBUG_RWSEMS=y

# Memory debugging
CONFIG_DEBUG_SLAB=y
CONFIG_DEBUG_PAGEALLOC=y
CONFIG_DEBUG_OBJECTS=y
CONFIG_DEBUG_OBJECTS_FREE=y
CONFIG_DEBUG_OBJECTS_TIMERS=y
CONFIG_DEBUG_OBJECTS_WORK=y
CONFIG_DEBUG_OBJECTS_RCU_HEAD=y

# Stack and buffer overflow detection
CONFIG_STACKPROTECTOR=y
CONFIG_STACKPROTECTOR_STRONG=y
CONFIG_FORTIFY_SOURCE=y

# Hung task detection
CONFIG_DETECT_HUNG_TASK=y
CONFIG_DEFAULT_HUNG_TASK_TIMEOUT=120

# Kernel tracing
CONFIG_FTRACE=y
CONFIG_FUNCTION_TRACER=y
CONFIG_FUNCTION_GRAPH_TRACER=y
CONFIG_STACK_TRACER=y
CONFIG_DYNAMIC_FTRACE=y

# Verbose kernel panic output
CONFIG_DEBUG_BUGVERBOSE=y
