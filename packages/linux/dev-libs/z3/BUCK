load("//defs:package.bzl", "package")

package(
    build_rule = "cmake",
    name = "z3",
    version = "4.15.2",
    use_configure = {
        "examples": ("-DBUILD_EXAMPLES=ON", "-DBUILD_EXAMPLES=OFF"),
        "gmp": ("-DENABLE_GMP=ON", "-DENABLE_GMP=OFF"),
        "isabelle": ("-DENABLE_ISABELLE=ON", "-DENABLE_ISABELLE=OFF"),
        "java": ("-DENABLE_JAVA=ON", "-DENABLE_JAVA=OFF"),
        "python": ("-DENABLE_PYTHON=ON", "-DENABLE_PYTHON=OFF"),
    },
    url = "https://github.com/Z3Prover/z3/archive/refs/tags/z3-4.15.2.tar.gz",
    sha256 = "3486bf5b35b185981cab0b0a81f870547648a1ca433085aa79afd17c44959751",
    configure_args = [
        "-DZ3_BUILD_LIBZ3_SHARED=OFF",
        "-DZ3_BUILD_TEST_EXECUTABLES=OFF",
        "-DZ3_ENABLE_EXAMPLE_TARGETS=OFF",
        "-DZ3_USE_LIB_GMP=OFF",
    ],
)
