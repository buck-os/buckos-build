load("//defs:package.bzl", "package")

package(
    build_rule = "cmake",
    name = "ode",
    version = "0.16.5",
    use_configure = {
        "debug": ("-DCMAKE_BUILD_TYPE=Debug", "-DCMAKE_BUILD_TYPE=Release"),
        "double-precision": ("-DENABLE_DOUBLE_PRECISION=ON", "-DENABLE_DOUBLE_PRECISION=OFF"),
        "examples": ("-DBUILD_EXAMPLES=ON", "-DBUILD_EXAMPLES=OFF"),
        "gyroscopic": ("-DENABLE_GYROSCOPIC=ON", "-DENABLE_GYROSCOPIC=OFF"),
        "static-libs": ("-DBUILD_STATIC_LIBS=ON", "-DBUILD_STATIC_LIBS=OFF"),
    },
    url = "https://bitbucket.org/odedevs/ode/downloads/ode-0.16.5.tar.gz",
    sha256 = "ba875edd164570958795eeaa70f14853bfc34cc9871f8adde8da47e12bd54679",
    configure_args = [
        "-DODE_WITH_LIBCCD=ON",
        "-DODE_WITH_LIBCCD_SYSTEM=ON",
        "-DODE_DOUBLE_PRECISION=ON",
        "-DODE_WITH_DEMOS=OFF",
        "-DODE_WITH_TESTS=OFF",
    ],
    deps = [
        "//packages/linux/dev-libs/physics/libccd:libccd",
    ],
)
